<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Authentification Git - SSH & Token</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 496 512'><path fill='%2345b7af' d='M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8z'/></svg>" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --bg-color: #f5f5f5;
      --bg-secondary: #ffffff;
      --text-primary: #333333;
      --text-secondary: #666666;
      --accent-color: #45b7af;
      --border-color: #e0e0e0;
      --danger-color: #f44336;
      --success-color: #4caf50;
      --warning-color: #ff9800;
      --info-color: #2196f3;
    }

    .dark-mode {
      --bg-color: #1a1a2e;
      --bg-secondary: #16213e;
      --text-primary: #e0e0e0;
      --text-secondary: #a0a0a0;
      --border-color: #2a2a4a;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: var(--bg-color);
      color: var(--text-primary);
      min-height: 100vh;
      transition: background 0.3s, color 0.3s;
    }

    .header {
      background: var(--bg-secondary);
      padding: 15px 20px;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header h1 {
      font-size: 1.3em;
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--text-primary);
    }

    .header h1 i {
      color: var(--accent-color);
    }

    .header-actions {
      display: flex;
      gap: 10px;
    }

    .header-actions button {
      background: var(--bg-color);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 5px;
      transition: all 0.2s;
    }

    .header-actions button:hover {
      background: var(--accent-color);
      color: white;
      border-color: var(--accent-color);
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }

    .card {
      background: var(--bg-secondary);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      border: 1px solid var(--border-color);
    }

    .card h2 {
      font-size: 1.2em;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--text-primary);
    }

    .card h2 i {
      color: var(--accent-color);
    }

    .card h3 {
      font-size: 1em;
      margin: 20px 0 10px 0;
      color: var(--text-primary);
    }

    .info-box {
      background: rgba(33, 150, 243, 0.1);
      border: 1px solid var(--info-color);
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
    }

    .info-box h4 {
      color: var(--info-color);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .warning-box {
      background: rgba(255, 152, 0, 0.1);
      border: 1px solid var(--warning-color);
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
    }

    .warning-box h4 {
      color: var(--warning-color);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .success-box {
      background: rgba(76, 175, 80, 0.1);
      border: 1px solid var(--success-color);
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
    }

    .success-box h4 {
      color: var(--success-color);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .step {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      padding: 15px;
      background: var(--bg-color);
      border-radius: 8px;
      border: 1px solid var(--border-color);
    }

    .step-number {
      width: 32px;
      height: 32px;
      background: var(--accent-color);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      flex-shrink: 0;
    }

    .step-content {
      flex: 1;
    }

    .step-content h4 {
      margin-bottom: 10px;
      color: var(--text-primary);
    }

    .step-content p {
      color: var(--text-secondary);
      font-size: 0.9em;
      margin-bottom: 10px;
    }

    .code-block {
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 12px 15px;
      border-radius: 6px;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.9em;
      overflow-x: auto;
      margin: 10px 0;
      position: relative;
    }

    .code-block .copy-btn {
      position: absolute;
      top: 8px;
      right: 8px;
      background: #333;
      border: none;
      color: #888;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8em;
      transition: all 0.2s;
    }

    .code-block .copy-btn:hover {
      background: var(--accent-color);
      color: white;
    }

    .code-block .copy-btn.copied {
      background: var(--success-color);
      color: white;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      color: var(--text-secondary);
      font-size: 0.9em;
    }

    .form-group input {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      background: var(--bg-color);
      color: var(--text-primary);
      font-size: 1em;
    }

    .form-group input:focus {
      outline: none;
      border-color: var(--accent-color);
    }

    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.95em;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
    }

    .btn-primary {
      background: var(--accent-color);
      color: white;
    }

    .btn-primary:hover {
      filter: brightness(1.1);
    }

    .btn-secondary {
      background: var(--bg-color);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    .btn-secondary:hover {
      background: var(--border-color);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .btn-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 15px;
    }

    .tabs {
      display: flex;
      gap: 5px;
      margin-bottom: 20px;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 0;
    }

    .tab {
      padding: 12px 20px;
      background: transparent;
      border: none;
      color: var(--text-secondary);
      cursor: pointer;
      font-size: 1em;
      border-bottom: 2px solid transparent;
      margin-bottom: -2px;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .tab:hover {
      color: var(--text-primary);
    }

    .tab.active {
      color: var(--accent-color);
      border-bottom-color: var(--accent-color);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .terminal-output {
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 15px;
      border-radius: 8px;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.85em;
      max-height: 300px;
      overflow-y: auto;
      display: none;
      margin-top: 15px;
    }

    .terminal-output.visible {
      display: block;
    }

    .terminal-output .success {
      color: #4caf50;
    }

    .terminal-output .error {
      color: #f44336;
    }

    .terminal-output .info {
      color: #2196f3;
    }

    .loading {
      display: none;
      align-items: center;
      gap: 10px;
      color: var(--text-secondary);
      margin-top: 15px;
    }

    .loading.visible {
      display: flex;
    }

    .loading i {
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: 500;
    }

    .status-badge.success {
      background: rgba(76, 175, 80, 0.15);
      color: var(--success-color);
    }

    .status-badge.warning {
      background: rgba(255, 152, 0, 0.15);
      color: var(--warning-color);
    }

    .status-badge.error {
      background: rgba(244, 67, 54, 0.15);
      color: var(--danger-color);
    }

    .advantages-list {
      list-style: none;
      padding: 0;
    }

    .advantages-list li {
      padding: 8px 0;
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--text-secondary);
    }

    .advantages-list li i {
      color: var(--success-color);
    }

    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    .comparison-table th,
    .comparison-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid var(--border-color);
    }

    .comparison-table th {
      background: var(--bg-color);
      color: var(--text-primary);
      font-weight: 600;
    }

    .comparison-table td {
      color: var(--text-secondary);
    }

    .comparison-table tr:last-child td {
      border-bottom: none;
    }

    @media (max-width: 600px) {
      .header h1 span {
        display: none;
      }

      .tabs {
        flex-wrap: wrap;
      }

      .tab {
        flex: 1;
        justify-content: center;
        padding: 10px;
      }

      .tab span {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>
      <i class="fas fa-key"></i>
      <span>Authentification Git</span>
    </h1>
    <div class="header-actions">
      <button onclick="window.location.href='git-manager.html'" title="Retour au gestionnaire">
        <i class="fas fa-arrow-left"></i>
        <span>Retour</span>
      </button>
      <button onclick="toggleDarkMode()" id="darkModeBtn" title="Mode sombre">
        <i class="fas fa-moon"></i>
      </button>
    </div>
  </div>

  <div class="container">
    <div class="card">
      <h2><i class="fas fa-info-circle"></i> Choisir une méthode d'authentification</h2>
      <p style="color: var(--text-secondary); margin-bottom: 15px;">
        Pour interagir avec GitHub (push, pull, clone), vous devez vous authentifier. Deux méthodes principales sont disponibles :
      </p>

      <table class="comparison-table">
        <thead>
          <tr>
            <th></th>
            <th><i class="fas fa-key"></i> SSH</th>
            <th><i class="fas fa-ticket-alt"></i> Token HTTPS</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Sécurité</strong></td>
            <td><i class="fas fa-star" style="color: var(--success-color);"></i> Excellente</td>
            <td><i class="fas fa-star" style="color: var(--warning-color);"></i> Bonne</td>
          </tr>
          <tr>
            <td><strong>Configuration</strong></td>
            <td>Une seule fois</td>
            <td>Token à renouveler</td>
          </tr>
          <tr>
            <td><strong>Authentification</strong></td>
            <td>Automatique</td>
            <td>Token dans l'URL ou prompt</td>
          </tr>
          <tr>
            <td><strong>Format URL</strong></td>
            <td><code>git@github.com:user/repo.git</code></td>
            <td><code>https://github.com/user/repo.git</code></td>
          </tr>
          <tr>
            <td><strong>Recommandé pour</strong></td>
            <td>Usage régulier, serveurs</td>
            <td>Usage occasionnel, CI/CD</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="tabs">
      <button class="tab active" onclick="showTab('ssh')">
        <i class="fas fa-key"></i>
        <span>SSH</span>
      </button>
      <button class="tab" onclick="showTab('token')">
        <i class="fas fa-ticket-alt"></i>
        <span>Token HTTPS</span>
      </button>
    </div>

    <!-- SSH Tab -->
    <div id="ssh-tab" class="tab-content active">
      <div class="card">
        <h2><i class="fas fa-key"></i> Configuration SSH (Git Bash)</h2>

        <div class="success-box">
          <h4><i class="fas fa-check-circle"></i> Avantages du SSH</h4>
          <ul class="advantages-list">
            <li><i class="fas fa-check"></i> Pas besoin de saisir login/mot de passe à chaque push</li>
            <li><i class="fas fa-check"></i> Plus sécurisé que HTTPS avec token</li>
            <li><i class="fas fa-check"></i> Authentification automatique une fois configuré</li>
            <li><i class="fas fa-check"></i> Clé privée jamais transmise sur le réseau</li>
          </ul>
        </div>

        <div class="warning-box">
          <h4><i class="fas fa-terminal"></i> Toutes les commandes ci-dessous sont à taper dans Git Bash</h4>
        </div>

        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4>Vérifier si une clé SSH existe déjà</h4>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              ls -la ~/.ssh/
            </div>
            <div style="margin-top: 15px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
              <p><strong>Résultat possible :</strong></p>
              <ul style="color: var(--text-secondary); font-size: 0.9em; margin-top: 10px;">
                <li><code>id_rsa</code> et <code>id_rsa.pub</code> → Vous avez une clé <strong>RSA</strong> → <span style="color: var(--success-color);">Passez à l'étape 3</span></li>
                <li><code>id_ed25519</code> et <code>id_ed25519.pub</code> → Vous avez une clé <strong>ED25519</strong> → <span style="color: var(--success-color);">Passez à l'étape 3</span></li>
                <li>Aucun fichier <code>id_*</code> → Pas de clé → <span style="color: var(--warning-color);">Continuez à l'étape 2</span></li>
              </ul>
            </div>
          </div>
        </div>

        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4>Générer une nouvelle clé SSH <span style="color: var(--text-secondary); font-size: 0.8em;">(seulement si vous n'en avez pas)</span></h4>
            <div class="form-group">
              <label for="sshEmail">Votre email GitHub</label>
              <input type="email" id="sshEmail" placeholder="votre-email@example.com">
            </div>
            <p><strong>Option A - ED25519</strong> (recommandé, plus moderne) :</p>
            <div class="code-block" id="sshGenCommand">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              ssh-keygen -t ed25519 -C "votre-email@example.com"
            </div>
            <p style="margin-top: 15px;"><strong>Option B - RSA</strong> (compatibilité maximale) :</p>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              ssh-keygen -t rsa -b 4096 -C "votre-email@example.com"
            </div>
            <p style="margin-top: 15px; color: var(--text-secondary); font-size: 0.9em;">
              Appuyez sur <strong>Entrée</strong> pour accepter l'emplacement par défaut.<br>
              Vous pouvez définir une passphrase ou laisser vide.
            </p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4>Démarrer l'agent SSH</h4>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              eval "$(ssh-agent -s)"
            </div>
            <p style="color: var(--text-secondary); font-size: 0.9em; margin-top: 10px;">
              Vous devriez voir : <code>Agent pid 12345</code>
            </p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h4>Ajouter votre clé à l'agent</h4>
            <p>Choisissez la commande selon <strong>votre type de clé</strong> (vérifié à l'étape 1) :</p>
            <p style="margin-top: 10px;"><strong>Si vous avez une clé RSA</strong> (<code>id_rsa</code>) :</p>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              ssh-add ~/.ssh/id_rsa
            </div>
            <p style="margin-top: 15px;"><strong>Si vous avez une clé ED25519</strong> (<code>id_ed25519</code>) :</p>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              ssh-add ~/.ssh/id_ed25519
            </div>
            <p style="color: var(--text-secondary); font-size: 0.9em; margin-top: 10px;">
              Vous devriez voir : <code>Identity added: ...</code>
            </p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">5</div>
          <div class="step-content">
            <h4>Copier la clé publique</h4>
            <p>Choisissez selon <strong>votre type de clé</strong> :</p>
            <p style="margin-top: 10px;"><strong>Si RSA</strong> :</p>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              cat ~/.ssh/id_rsa.pub
            </div>
            <p style="margin-top: 15px;"><strong>Si ED25519</strong> :</p>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              cat ~/.ssh/id_ed25519.pub
            </div>
            <p style="margin-top: 15px; color: var(--text-secondary); font-size: 0.9em;">
              <i class="fas fa-exclamation-triangle" style="color: var(--warning-color);"></i>
              Copiez <strong>toute la ligne</strong> affichée (commence par <code>ssh-rsa</code> ou <code>ssh-ed25519</code>).
            </p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">6</div>
          <div class="step-content">
            <h4>Ajouter la clé sur GitHub</h4>
            <ol style="color: var(--text-secondary); padding-left: 20px; font-size: 0.9em;">
              <li>Allez sur <a href="https://github.com/settings/keys" target="_blank" style="color: var(--accent-color);">GitHub → Settings → SSH and GPG keys</a></li>
              <li>Cliquez sur <strong>New SSH key</strong></li>
              <li>Donnez un titre (ex: "Mon PC", "Laptop travail")</li>
              <li>Collez la clé publique complète</li>
              <li>Cliquez sur <strong>Add SSH key</strong></li>
            </ol>
            <div class="btn-group">
              <a href="https://github.com/settings/ssh/new" target="_blank" class="btn btn-primary">
                <i class="fas fa-external-link-alt"></i> Ouvrir GitHub SSH Keys
              </a>
            </div>
          </div>
        </div>

        <div class="step">
          <div class="step-number">7</div>
          <div class="step-content">
            <h4>Tester la connexion</h4>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              ssh -T git@github.com
            </div>
            <p style="margin-top: 10px;">Si c'est la première connexion, tapez <strong>yes</strong> pour accepter.</p>
            <p style="margin-top: 10px;"><strong>Résultat attendu :</strong></p>
            <div style="padding: 10px; background: rgba(40, 167, 69, 0.1); border-radius: 5px; margin-top: 5px;">
              <code style="color: var(--success-color);">Hi username! You've successfully authenticated, but GitHub does not provide shell access.</code>
            </div>
            <p style="margin-top: 15px;"><strong>Si vous voyez "Permission denied" :</strong></p>
            <ul style="color: var(--text-secondary); font-size: 0.9em;">
              <li>Vérifiez que vous avez bien ajouté la clé sur GitHub (étape 6)</li>
              <li>Relancez les étapes 3 et 4 (l'agent SSH se ferme parfois)</li>
            </ul>
          </div>
        </div>

        <div class="step">
          <div class="step-number">8</div>
          <div class="step-content">
            <h4>Utiliser le format SSH dans Git Manager</h4>
            <p>Dans la configuration du remote, utilisez le format SSH :</p>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              git@github.com:votre-username/votre-repo.git
            </div>
            <p style="margin-top: 10px; color: var(--text-secondary); font-size: 0.9em;">
              <i class="fas fa-lightbulb" style="color: var(--warning-color);"></i>
              Vous pouvez trouver cette URL sur la page de votre dépôt GitHub → bouton <strong>Code</strong> → onglet <strong>SSH</strong>
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Token Tab -->
    <div id="token-tab" class="tab-content">
      <div class="card">
        <h2><i class="fas fa-ticket-alt"></i> Configuration Token HTTPS</h2>

        <div class="info-box">
          <h4><i class="fas fa-info-circle"></i> À propos des tokens</h4>
          <p style="color: var(--text-secondary); font-size: 0.9em;">
            Depuis août 2021, GitHub n'accepte plus les mots de passe pour les opérations Git via HTTPS.
            Vous devez utiliser un <strong>Personal Access Token (PAT)</strong> à la place.
          </p>
        </div>

        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4>Créer un Personal Access Token</h4>
            <ol style="color: var(--text-secondary); padding-left: 20px; font-size: 0.9em;">
              <li>Allez sur <a href="https://github.com/settings/tokens?type=beta" target="_blank" style="color: var(--accent-color);">GitHub → Settings → Developer settings → Personal access tokens</a></li>
              <li>Cliquez sur <strong>Generate new token</strong></li>
              <li>Choisissez <strong>Fine-grained tokens</strong> (recommandé) ou <strong>Classic</strong></li>
              <li>Donnez un nom descriptif (ex: "Git Manager local")</li>
              <li>Définissez une date d'expiration</li>
              <li>Sélectionnez les permissions nécessaires :
                <ul style="margin-top: 5px;">
                  <li><strong>repo</strong> : accès complet aux dépôts privés</li>
                  <li><strong>workflow</strong> : si vous utilisez GitHub Actions</li>
                </ul>
              </li>
              <li>Cliquez sur <strong>Generate token</strong></li>
              <li><strong style="color: var(--danger-color);">Copiez le token immédiatement !</strong> Il ne sera plus affiché.</li>
            </ol>
            <div class="btn-group">
              <a href="https://github.com/settings/tokens/new" target="_blank" class="btn btn-primary">
                <i class="fas fa-external-link-alt"></i> Créer un token (Classic)
              </a>
              <a href="https://github.com/settings/personal-access-tokens/new" target="_blank" class="btn btn-secondary">
                <i class="fas fa-external-link-alt"></i> Créer un token (Fine-grained)
              </a>
            </div>
          </div>
        </div>

        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4>Utiliser le token</h4>
            <p>Il y a plusieurs façons d'utiliser votre token :</p>

            <h5 style="margin-top: 15px; color: var(--text-primary);">Option A : Token dans l'URL (simple mais moins sécurisé)</h5>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              https://TOKEN@github.com/username/repo.git
            </div>
            <p style="color: var(--text-secondary); font-size: 0.9em;">
              <i class="fas fa-exclamation-triangle" style="color: var(--warning-color);"></i>
              Le token sera visible dans la configuration Git. À éviter sur des machines partagées.
            </p>

            <h5 style="margin-top: 20px; color: var(--text-primary);">Option B : Credential Manager (recommandé)</h5>
            <p style="color: var(--text-secondary); font-size: 0.9em;">
              Configurez Git pour stocker vos identifiants de manière sécurisée :
            </p>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              git config --global credential.helper store
            </div>
            <p style="color: var(--text-secondary); font-size: 0.9em; margin-top: 10px;">
              Lors du prochain push/pull, entrez votre username GitHub et le token comme mot de passe.
              Git les mémorisera pour les prochaines fois.
            </p>

            <h5 style="margin-top: 20px; color: var(--text-primary);">Option C : Windows Credential Manager</h5>
            <p style="color: var(--text-secondary); font-size: 0.9em;">Sur Windows, utilisez le gestionnaire d'identifiants intégré :</p>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              git config --global credential.helper wincred
            </div>
          </div>
        </div>

        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4>Format de l'URL HTTPS</h4>
            <p>Dans Git Manager, utilisez le format HTTPS standard :</p>
            <div class="code-block">
              <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
              https://github.com/votre-username/votre-repo.git
            </div>
            <p style="margin-top: 10px; color: var(--text-secondary); font-size: 0.9em;">
              <i class="fas fa-lightbulb" style="color: var(--warning-color);"></i>
              Vous pouvez trouver cette URL sur la page de votre dépôt GitHub → bouton <strong>Code</strong> → onglet <strong>HTTPS</strong>
            </p>
          </div>
        </div>

        <div class="warning-box" style="margin-top: 20px;">
          <h4><i class="fas fa-exclamation-triangle"></i> Sécurité des tokens</h4>
          <ul style="color: var(--text-secondary); font-size: 0.9em; padding-left: 20px;">
            <li>Ne partagez <strong>jamais</strong> votre token</li>
            <li>Ne le commitez <strong>jamais</strong> dans un dépôt</li>
            <li>Utilisez des tokens avec des permissions minimales</li>
            <li>Définissez une date d'expiration</li>
            <li>Révoquez les tokens non utilisés</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="card">
      <h2><i class="fas fa-question-circle"></i> Dépannage</h2>

      <h3>SSH : "Permission denied (publickey)"</h3>
      <ul style="color: var(--text-secondary); padding-left: 20px; font-size: 0.9em;">
        <li>Vérifiez que l'agent SSH est démarré</li>
        <li>Vérifiez que votre clé est ajoutée à l'agent : <code>ssh-add -l</code></li>
        <li>Vérifiez que la clé publique est bien ajoutée sur GitHub</li>
        <li>Testez avec : <code>ssh -vT git@github.com</code> pour voir les détails</li>
      </ul>

      <h3 style="margin-top: 20px;">HTTPS : "Authentication failed"</h3>
      <ul style="color: var(--text-secondary); padding-left: 20px; font-size: 0.9em;">
        <li>Vérifiez que vous utilisez un token et non votre mot de passe</li>
        <li>Vérifiez que le token n'a pas expiré</li>
        <li>Vérifiez que le token a les permissions nécessaires (repo)</li>
        <li>Supprimez les anciennes entrées du credential manager et réessayez</li>
      </ul>

      <h3 style="margin-top: 20px;">Changer de SSH vers HTTPS (ou inversement)</h3>
      <p style="color: var(--text-secondary); font-size: 0.9em; margin-top: 10px;">
        Utilisez Git Manager pour modifier l'URL du remote, ou en ligne de commande :
      </p>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
        git remote set-url origin git@github.com:user/repo.git
      </div>
    </div>
  </div>

  <script>
    // Gestion du mode sombre
    document.addEventListener('DOMContentLoaded', function() {
      if (localStorage.getItem('gitManagerDarkMode') === 'true') {
        document.body.classList.add('dark-mode');
        updateDarkModeIcon();
      }

      // Mettre à jour la commande SSH avec l'email
      document.getElementById('sshEmail').addEventListener('input', function() {
        const email = this.value || 'votre-email@example.com';
        document.getElementById('sshGenCommand').innerHTML =
          `<button class="copy-btn" onclick="copyCode(this)"><i class="fas fa-copy"></i></button>
           ssh-keygen -t ed25519 -C "${email}"`;
      });
    });

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      localStorage.setItem('gitManagerDarkMode', isDark);
      updateDarkModeIcon();
    }

    function updateDarkModeIcon() {
      const btn = document.getElementById('darkModeBtn');
      const isDark = document.body.classList.contains('dark-mode');
      btn.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
    }

    function showTab(tabName) {
      // Désactiver tous les onglets
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

      // Activer l'onglet sélectionné
      document.querySelector(`.tab[onclick="showTab('${tabName}')"]`).classList.add('active');
      document.getElementById(`${tabName}-tab`).classList.add('active');
    }

    function copyCode(button) {
      const codeBlock = button.parentElement;
      const code = codeBlock.textContent.replace(button.textContent, '').trim();

      navigator.clipboard.writeText(code).then(() => {
        button.classList.add('copied');
        button.innerHTML = '<i class="fas fa-check"></i>';

        setTimeout(() => {
          button.classList.remove('copied');
          button.innerHTML = '<i class="fas fa-copy"></i>';
        }, 2000);
      });
    }
  </script>
</body>
</html>
